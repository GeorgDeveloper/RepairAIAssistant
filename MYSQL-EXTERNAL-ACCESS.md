# üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ MySQL

## üìã –û–±–∑–æ—Ä

–°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç MySQL –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π, –≤–∫–ª—é—á–∞—è –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ DBeaver –∏ –¥—Ä—É–≥–∏–µ –∫–ª–∏–µ–Ω—Ç—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö.

## üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ MySQL

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç —Ç—Ä–∏ —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –ü–∞—Ä–æ–ª—å | –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------------|--------|---------------|------------|
| `admin` | `AdminPass123!` | –ü–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞ –Ω–∞ –≤—Å–µ –ë–î | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ DBeaver |
| `dba` | `dbaPass` | –ü–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞ –Ω–∞ `monitoring_bd` | –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ |
| `readonly` | `ReadOnlyPass123!` | –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ `monitoring_bd` | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö |

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞

- **Bind Address:** `0.0.0.0` (–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–∑–≤–Ω–µ)
- **–ü–æ—Ä—Ç:** `3306` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç MySQL)
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞:** `utf8mb4` —Å `utf8mb4_unicode_ci`
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `mysql_native_password`

### 3. –§–∞–π—Ä–≤–æ–ª

- –ü–æ—Ä—Ç `3306/tcp` –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- UFW –ø—Ä–∞–≤–∏–ª–æ: `'MySQL external access'`

## üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ DBeaver

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

1. **–¢–∏–ø —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:** MySQL
2. **–•–æ—Å—Ç:** `IP_–ê–î–†–ï–°_–°–ï–†–í–ï–†–ê`
3. **–ü–æ—Ä—Ç:** `3306`
4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** `monitoring_bd`
5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `admin`
6. **–ü–∞—Ä–æ–ª—å:** `AdminPass123!`

### –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ DBeaver**
2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:**
   - –ù–∞–∂–º–∏—Ç–µ "–ù–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ" –∏–ª–∏ Ctrl+Shift+N
   - –í—ã–±–µ—Ä–∏—Ç–µ "MySQL"

3. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
   ```
   –•–æ—Å—Ç: 192.168.1.100  (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞)
   –ü–æ—Ä—Ç: 3306
   –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: monitoring_bd
   –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: admin
   –ü–∞—Ä–æ–ª—å: AdminPass123!
   ```

4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:**
   - –ù–∞–∂–º–∏—Ç–µ "–¢–µ—Å—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è"
   - –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏

5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å**

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

1. **–°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
   ```sql
   ALTER USER 'admin'@'%' IDENTIFIED BY '–í–ê–®_–ù–û–í–´–ô_–ü–ê–†–û–õ–¨';
   ALTER USER 'readonly'@'%' IDENTIFIED BY '–í–ê–®_–ù–û–í–´–ô_–ü–ê–†–û–õ–¨';
   ```

2. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –ø–æ IP (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
   ```bash
   # –†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ IP
   sudo ufw delete allow 3306/tcp
   sudo ufw allow from –í–ê–®–ê_IP to any port 3306
   ```

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSL —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:**
   - –í DBeaver –≤–∫–ª—é—á–∏—Ç–µ SSL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
   - –í–∫–ª–∞–¥–∫–∞ "SSL" ‚Üí "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SSL"

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π MySQL:

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MySQL
docker exec -it repair_mysql mysql -u root -prootPass

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT User, Host FROM mysql.user;

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è admin
SHOW GRANTS FOR 'admin'@'%';
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–µ—Ä–≤–µ—Ä–∞:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ bind-address
docker exec repair_mysql mysql -u root -prootPass -e "SHOW VARIABLES LIKE 'bind_address';"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞
docker exec repair_mysql mysql -u root -prootPass -e "SHOW VARIABLES LIKE 'port';"
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞:

```bash
# –°—Ç–∞—Ç—É—Å UFW
sudo ufw status

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤
netstat -tlnp | grep 3306
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –ò–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:

```bash
# –° —Å–µ—Ä–≤–µ—Ä–∞ (–ª–æ–∫–∞–ª—å–Ω–æ)
mysql -h localhost -u admin -pAdminPass123! monitoring_bd

# –° —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
mysql -h IP_–°–ï–†–í–ï–†–ê -u admin -pAdminPass123! monitoring_bd
```

### –ß–µ—Ä–µ–∑ telnet:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç–∞
telnet IP_–°–ï–†–í–ï–†–ê 3306
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã:

- `equipment_maintenance_records` - –ó–∞–ø–∏—Å–∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- `summary_of_solutions` - –°–≤–æ–¥–∫–∞ —Ä–µ—à–µ–Ω–∏–π
- `breakdown_reports` - –û—Ç—á–µ—Ç—ã –æ –ø–æ–ª–æ–º–∫–∞—Ö  
- `manuals` - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã.

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —É–¥–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∏–∑–≤–Ω–µ

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**

1. **–§–∞–π—Ä–≤–æ–ª —Å–µ—Ä–≤–µ—Ä–∞:**
   ```bash
   sudo ufw status
   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 3306/tcp ALLOW Anywhere
   ```

2. **–°—Ç–∞—Ç—É—Å MySQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:**
   ```bash
   docker ps | grep mysql
   # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: Up
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ bind-address:**
   ```bash
   docker exec repair_mysql mysql -u root -prootPass -e "SHOW VARIABLES LIKE 'bind_address';"
   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 0.0.0.0
   ```

4. **–ü—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
   ```bash
   docker exec repair_mysql mysql -u root -prootPass -e "SELECT User, Host FROM mysql.user WHERE User='admin';"
   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: admin | %
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
```sql
# –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
ALTER USER 'admin'@'%' IDENTIFIED WITH mysql_native_password BY 'AdminPass123!';
FLUSH PRIVILEGES;
```

### –ü—Ä–æ–±–ª–µ–º–∞: –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

**–†–µ—à–µ–Ω–∏–µ:**
```sql
# –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –∑–∞–Ω–æ–≤–æ
GRANT ALL PRIVILEGES ON monitoring_bd.* TO 'admin'@'%';
FLUSH PRIVILEGES;
```

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```sql
CREATE USER 'newuser'@'%' IDENTIFIED BY 'password';
GRANT SELECT, INSERT, UPDATE, DELETE ON monitoring_bd.* TO 'newuser'@'%';
FLUSH PRIVILEGES;
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–º–ø–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker exec repair_mysql mysqldump -u admin -pAdminPass123! monitoring_bd > backup.sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –¥–∞–º–ø–∞
docker exec -i repair_mysql mysql -u admin -pAdminPass123! monitoring_bd < backup.sql
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π:

```sql
-- –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
SHOW PROCESSLIST;

-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
SHOW STATUS LIKE 'Connections';
SHOW STATUS LIKE 'Threads_connected';
```

## ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–±–æ—Ç–µ

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ MySQL –±—É–¥–µ—Ç:

- ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚úÖ –ó–∞—â–∏—â–µ–Ω —Ñ–∞–π—Ä–≤–æ–ª–æ–º
- ‚úÖ –ì–æ—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å DBeaver
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

**MySQL –≥–æ—Ç–æ–≤ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ DBeaver!** üéâ

---

**–í–∞–∂–Ω–æ:** –ù–µ –∑–∞–±—É–¥—å—Ç–µ —Å–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Å—Ä–µ–¥–µ!
